///////////DAY13最後的練習 自己寫寫看  
要用2^6 = 64來切吧  
64*4 = 256

2^8 = 256所以最後一個octet是有256個地址  
切成四份，每份64個地址


(1)所以subnet1從192.168.1.0開始  
0 + 64 -1 = 63  
192.168.1.0~192.168.1.63


  
(2)所以subnet2從192.168.1.64開始  
64+64-1 = 127  
192.168.1.64~192.168.1.127


(3)所以subnet3從192.168.1.128開始  
128+64-1 = 191  
192.168.1.127~192.168.1.191


(4)所以subnet4從192.168.1.192開始  
192+64-1 = 255  

192.168.1.193~192.168.1.255


DAY13最後的練習 在DAY14老師的解答

192.168.1.0/26  
要去找subnet1的範圍

居然是看binary喔 再去換算成decimal  
32 - 26 = 6  
最後6個bit 可以是0或1，其他的bit都固定不能動  
192.168.1.(0)  
我們看最後(0)的部分的binary是 00 000000 = 0  
那現在把可以動的部分都填上1是 00 111111 = 63  
範圍是192.168.1.0~192.168.1.63

// 上面是老師寫  
// 但我直接2^6=64  
// 0~63是可能的範圍  
// 我根本沒去看binary  
// 老師這個方式好像也可以  
// 我用十進制在那邊加加減減 很容易就算錯......

現在看subnet2  
192.168.1.(64)  
看64這個部分寫成binary 是01 000000 = 64  
把最後可動的6個bit填上1是01 111111 = 127  
範圍是192.168.1.64~192.168.1.127

現在看subnet3  
192.168.1.(128)  
看128這個部分寫成binary是 10 000000  
把最後可動的6個bit填上1是 10 111111 = 191  
範圍是192.168.1.128~192.168.1.191

現在看subnet4  
192.168.1.(192)  
看192這個部分寫成binary是 11 000000 = 192  
把最後可動的6個bit填上1是 11 111111 = 255  
範圍是192.168.1.192~192.168.1.255

結尾說  
0 + 64 = 64  
64 + 64 = 128  
128+64 = 192

每個subnet範圍的開頭是  
0  
64  
128  
192  
這樣很簡單了！  
哦 這個是Subnetting Trick 切子網路小技巧

哦 看最後一個octet  
fixed的bit 其實代表的是可以切成幾個子網路

假設/26  
的最後一個octet的bit pattern是10 000000  
fixed部分是前面兩個bit  
2^2 = 4  
可以切成四個子網路

那假設/27  
fixed部分是前面3個bit  
2^3 = 8  
可以切成8個子網路  

以此類推


在這個例子是要我們切五個子網路  
不可能剛好切成我們要的大小  
所以只能選/27這個prefix length  
雖然會浪費一些地址



/27  
2^5 = 32

subnet1  
192.168.255.(0)   
(0)部分+32就是下一個子網路的開頭  
0 + 32 = 32  
192.168.255.0 ~ 192.168.255.31  

subnet2  
192.168.255.32  
192.168.255.32 ~ 192.168.255.63  

subnet3  
192.168.255.64  
192.168.255.64 ~ 192.168.255.95

subnet4  
192.168.255.96  
192.168.255.96 ~ 192.168.255.127

subnet5  
192.168.255.128

// 128+64 = 192是subnet6的開頭 所以這邊減1  
192.168.255.128~192.168.255.191

另一種類型的問題  
給你一個IP地址與prefix length  
問你這個IP地址屬於哪一個子網路？

What subnet does host 192.168.5.57/27 belong to?

我自己先寫寫看  
那就從0開始推  
192.168.5.(0)/27  
2^5 = 32  
每分切32

000 00000  
2^3 = 8  
可以切8份

第一個子網路  
開頭(0)

第二子網路  
開頭(32)  
範圍32 ~ 63

第三子網路  
開頭(64)

所以這題的答案是  
屬於子網路 192.168.5.32/27

噗~老師用了一個超快的技巧XD  
57的binary patter是001 11001  
把不是固定的部分設成0  
那就是001 00000 = 32  
所以這個IP屬於子網路192.168.5.32/27


那再問一個問題  
192.168.29.219/29屬於哪個子網路  
32 - 29 = 3 (可動的bit)  
00000 000

要把decimal 219轉換成bit pattern  
2^7 = 128  
64  
32  
128+64+2^5*0+16+8 +2^2 * 0+2 +1  
// 把decimal轉成bit pattern、再把可動的bit設定成0、再轉回decimal  
// 我覺得把decimal轉成bit pattern也有點麻煩欸

11011 011  
11011 000可動的bit設定成0

11011 000 = 216  
屬於子網路 192.168.29.216/29




172.16.0.0/16 ClassB網路  
要切80個子網路  
what prefix length should you use?

172.16.(0.0)  

00000000 00000000  
2^6 = 64// 切64個網路  
2^7 = 128// 切128個網路

前面7個bit固定，後面的9個bit是可動的  
16+7 = 23

所以prefix length是23


那172.16.0.0有哪些網路  
172.16.0.0  
172.16.2.0  
172.16.4.0  
172.16.8.0  

改變borrow bit的bit pattern  
就是改變子網路


再一個練習  
172.22.0.0/16  
要切500個subnet  
那要用的prefix length為何？A：25

172.22.(0.0)

00000000 00000000  
2^8 = 256  
2^9 = 512

所以要借9個bit來當network portion  
16 + 9 = 25  
所以prefix length是25


又是一個練習  
you have been given the 172.18.0.0/16 network  
your company requires 250 subnets with the same number of hosts per subnet.  
what prefix length should you use?A：/24

172.18.(0.0)

00000000 00000000  
2^7 = 128  
2^8 = 256  
borrow bits是8  
16+8 = 24  
所以prefix length是24



what subnet does host 172.25.217.192/21 belong to?

00000 00000000000  
前5個是borrow bit

217.192轉成binary pattern

2^7 * 1 + 2^6 *1 + 2^5 * 0 + 2^4 * 1 + 2^3 *1 + 2^2*0 + 2^1 *0+2^0 * 1  
11011001

128+64 = 192  
217 - 192 = 25  
25 - 16 = 9  
9 - 8 = 1

看(217的部分)  
11011 001 xxxxxxxx  
前五個不動  
其他設成0  
11011 000 00000000  
2^3 * 1 + 2^4 * 1 +2^6*1+2^7*1 = 8+16+64+128 = 216

屬於172.25.216.0/21網路


Quiz Question1  
you have been given the 172.30.0.0/16 network  
your company requires 100 subnets with at least 500 hosts per subnet.  
what prefix length should you use?A：/23  
切100個子網路 每個網路500個hosts

172.30.(0.0)

00000000 00000000  
2^6 = 64  
2^7 = 128  
borrow bit是7個bit  
16 + 7 = 23 // this is my answer

剩下9個bit  
2^9 = 512  
哦哦 夠500個host 沒問題


Quiz Question2  
what subnet does host 172.21.111.201/20 belong to?


00000000 00000000 0000 0000 00000000  

所以應該是/16 再borrow 4個bit  
0000 0000 00000000  
注意111.201部分  
看111部分就好  
111轉成bitnary pattern

2^7*0 + 2^6 * 1 + 2^5 * 1 + 2^4 * 0 + 2^3 * 1 + 2^2 * 1 + 2^1 *1 + 2^0 *1

01101 111 xxxxxxxx  
把不是borrow的bit設成0  
01101 000 00000000  
2^3 + 2^5 + 2^6 = 8+32+64 = 104

屬於子網路172.21.104.0/20


Quiz Question3  
what is the broadcast address of the network 192.168.91.78/26 belongs to?  
// 啥意思? 我不太懂題目  
// 所以這是給一個IP地址 要先找出他的網路與範圍 再找出broadcast地址吧？


/26是/24 再borrow2個bits

192.168.(91.78)  
那我們看(91.78)的部分就好  
先把91轉成binary pattern  
2^7 * 0 +2^6 * 1+2^5 * 0 + 2^4 * 1 + 2^3 * 1 + 2^2 * 0 + 2^1 * 1 + 2^0 *1

91 - 64 = 27  
27 -16 = 11  
11 - 8 = 3  
3 - 2 = 1  
1 - 1 = 0

01 011011 xxxxxxxx  
把不是borrow的bit設成0  
01 000000 00000000  
2^6 = 64  
192.168.64.0 / 26是子網路


// 怎麼找broadcast地址啊？  
把不是borrow的bit設成1 這樣就是最後一個地址嗎  
01111111 11111111  
127.255  
所以broadcast address為192.168.127.255嗎



Quiz Question4  
you divide the 172.16.0.0/16 network into 4 subnets of equal size.  
identify the network and broadcast address of the second subnet  

// 不知道怎麼找broadcast地址  
// 等答案吧


Quiz Question5  
you divide the 172.30.0.0/16 network into subnets of 1000 hosts each.  
how many subnets are you able to make?64個子網路

切成的子網路每個要有1000個hosts

2^ 8 = 256  
2^ 9 = 512  
2^10 = 1024

所以hosts bits要10個  
000000 00 00000000  
那就是16 + 6 = 22  
prefix length是22  
borrow bits 是6  
2^6 = 64  
所以可以切64個子網路